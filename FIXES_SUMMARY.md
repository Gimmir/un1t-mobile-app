# –ü—ñ–¥—Å—É–º–æ–∫ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—å API —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó

## üéØ –©–æ –±—É–ª–æ –∑—Ä–æ–±–ª–µ–Ω–æ

### 1. –í–∏—è–≤–ª–µ–Ω–æ —Ä–æ–∑–±—ñ–∂–Ω–æ—Å—Ç—ñ –≤ —Ç–∏–ø–∞—Ö –¥–∞–Ω–∏—Ö

**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–∏–ø–∏ –¥–∞–Ω–∏—Ö –≤ `DATA_TYPES/event.ts` –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª–∏ —Ä–µ–∞–ª—å–Ω—ñ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ñ API.

**–†–µ–∞–ª—å–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑ –±–µ–∫–µ–Ω–¥—É:**
```typescript
{
  title: string           // –§—Ä–æ–Ω—Ç–µ–Ω–¥ –æ—á—ñ–∫—É–≤–∞–≤ "name"
  startTime: string       // –§—Ä–æ–Ω—Ç–µ–Ω–¥ –æ—á—ñ–∫—É–≤–∞–≤ "start_time"
  endTime: string         // –§—Ä–æ–Ω—Ç–µ–Ω–¥ –æ—á—ñ–∫—É–≤–∞–≤ "end_time"
  coach: string (ID)      // –§—Ä–æ–Ω—Ç–µ–Ω–¥ –æ—á—ñ–∫—É–≤–∞–≤ –æ–±'—î–∫—Ç instructor
  studio: string (ID)     // –§—Ä–æ–Ω—Ç–µ–Ω–¥ –æ—á—ñ–∫—É–≤–∞–≤ –æ–±'—î–∫—Ç location
  // –í—ñ–¥—Å—É—Ç–Ω—ñ: tags, credit_cost, duration
}
```

### 2. –û–Ω–æ–≤–ª–µ–Ω–æ —Ç–∏–ø Event

–§–∞–π–ª: `DATA_TYPES/event.ts`

–¢–µ–ø–µ—Ä –ø—ñ–¥—Ç—Ä–∏–º—É—î:
- ‚úÖ –†–µ–∞–ª—å–Ω—ñ –ø–æ–ª—è –∑ –±–µ–∫–µ–Ω–¥—É (`title`, `startTime`, `endTime`, `coach`, `studio`)
- ‚úÖ –ù–æ—Ä–º–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –ø–æ–ª—è –¥–ª—è —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ (`name`, `start_time`, `end_time`, `instructor`, `location`)
- ‚úÖ –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –ø–æ–ª—è —è–∫—ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –¥–æ–¥–∞–Ω—ñ –ø—ñ–∑–Ω—ñ—à–µ

### 3. –ü–æ–∫—Ä–∞—â–µ–Ω–æ normalizeEvent —Ñ—É–Ω–∫—Ü—ñ—é

–§–∞–π–ª: `src/features/events/api/events.api.ts`

–¢–µ–ø–µ—Ä:
- ‚úÖ –†–æ–∑—Ä–∞—Ö–æ–≤—É—î `duration` –∑ `startTime` —ñ `endTime`
- ‚úÖ –°—Ç–≤–æ—Ä—é—î placeholder –æ–±'—î–∫—Ç–∏ –¥–ª—è `instructor` —Ç–∞ `location`
- ‚úÖ –û–±—Ä–æ–±–ª—è—î –≤–∏–ø–∞–¥–∫–∏ –∫–æ–ª–∏ `coach` –∞–±–æ `studio` –º–æ–∂—É—Ç—å –±—É—Ç–∏ –æ–±'—î–∫—Ç–∞–º–∏ –∞–±–æ ID

### 4. –î–æ–¥–∞–Ω–æ –∑–∞—Ö–∏—Å—Ç –≤—ñ–¥ undefined

–§–∞–π–ª: `components/classes-screen/use-classes-screen-data.ts`

- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—è—î —á–∏ event –Ω–µ null
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—è—î —á–∏ —î start_time –ø–µ—Ä–µ–¥ –ø–∞—Ä—Å–∏–Ω–≥–æ–º
- ‚úÖ –õ–æ–≥—É—î —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–æ–¥—ñ—ó –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- ‚úÖ –ü—Ä–æ–ø—É—Å–∫–∞—î –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω—ñ –ø–æ–¥—ñ—ó –∑ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è–º

### 5. –°—Ç–≤–æ—Ä–µ–Ω–æ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

- ‚úÖ `test-api.sh` - —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è API —á–µ—Ä–µ–∑ curl
- ‚úÖ `API_REAL_STRUCTURE.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —Ä–µ–∞–ª—å–Ω–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ API
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –≤ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

## üìä –ü–æ–¥—ñ—ó —Ç–µ–ø–µ—Ä –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è!

–ü–æ–¥—ñ—ó —É—Å–ø—ñ—à–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è —Ç–∞ –ø–æ–∫–∞–∑—É—é—Ç—å—Å—è –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä—ñ.

–ó –ª–æ–≥—ñ–≤:
```
‚úÖ [eventsApi] Unwrapped 1 events
üî¥ Event "Event #002 " on 2025-12-19 ‚úì MATCHES
üî¥ [eventsForSelectedDay] Final count: 1 events
```

## ‚ö†Ô∏è –©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ–∫—Ä–∞—â–∏—Ç–∏

### –ù–∞ –±–µ–∫–µ–Ω–¥—ñ:

1. **–ü–æ–ø—É–ª—è—Ü—ñ—è –∑–≤'—è–∑–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö:**
   ```javascript
   // –ó–∞–º—ñ—Å—Ç—å:
   { coach: "694428f829baa264a95f9157" }
   
   // –ö—Ä–∞—â–µ:
   { 
     coach: {
       _id: "694428f829baa264a95f9157",
       firstName: "John",
       lastName: "Doe",
       avatar: "https://..."
     }
   }
   ```

2. **–î–æ–¥–∞—Ç–∏ –≤—ñ–¥—Å—É—Ç–Ω—ñ –ø–æ–ª—è:**
   - `tags: string[]` - –º—ñ—Ç–∫–∏ –ø–æ–¥—ñ—ó (CARDIO, STRENGTH, —Ç–æ—â–æ)
   - `creditCost: number` - –≤–∞—Ä—Ç—ñ—Å—Ç—å —É –∫—Ä–µ–¥–∏—Ç–∞—Ö
   - `duration: number` - —Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å –≤ —Ö–≤–∏–ª–∏–Ω–∞—Ö

3. **–î–æ–¥–∞—Ç–∏ location –¥–æ –ø–æ–¥—ñ—ó:**
   ```javascript
   {
     location: {
       _id: "...",
       name: "Main Studio",
       address: "..."
     }
   }
   ```

### –ù–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ñ:

–ü–æ–∫–∏ —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è placeholder'–∏:
- `instructor: { first_name: "Coach", last_name: "" }`
- `location: { name: "Studio" }`

–í–∞—Ä—ñ–∞–Ω—Ç–∏ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è:
1. –ü–æ–ø—Ä–æ—Å–∏—Ç–∏ –±–µ–∫–µ–Ω–¥ –ø–æ–ø—É–ª—é–≤–∞—Ç–∏ –¥–∞–Ω—ñ
2. –†–æ–±–∏—Ç–∏ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –∑–∞–ø–∏—Ç–∏ –¥–ª—è coach/studio
3. –ö–µ—à—É–≤–∞—Ç–∏ coach/studio –ª–æ–∫–∞–ª—å–Ω–æ

## üß™ –Ø–∫ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ API

### –ß–µ—Ä–µ–∑ —Ç–µ—Ä–º—ñ–Ω–∞–ª:

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç–µ—Å—Ç–æ–≤–∏–π —Å–∫—Ä–∏–ø—Ç
./test-api.sh
```

–¶–µ —Å—Ç–≤–æ—Ä–∏—Ç—å —Ñ–∞–π–ª–∏:
- `events-response.json` - –≤—Å—ñ –ø–æ–¥—ñ—ó
- `event-detail-response.json` - –¥–µ—Ç–∞–ª—ñ –æ–¥–Ω—ñ—î—ó –ø–æ–¥—ñ—ó
- `studios-response.json` - –≤—Å—ñ —Å—Ç—É–¥—ñ—ó
- `user-response.json` - –ø—Ä–æ—Ñ—ñ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

### –í—Ä—É—á–Ω—É —á–µ—Ä–µ–∑ curl:

```bash
# 1. –û—Ç—Ä–∏–º–∞—Ç–∏ —Ç–æ–∫–µ–Ω
TOKEN=$(curl -s -X POST "https://un1t-back-end-development.up.railway.app/auth/login" \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@un1t.com","password":"123qwe23"}' \
  | jq -r '.data.token')

# 2. –û—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ–¥—ñ—ó
curl -X GET "https://un1t-back-end-development.up.railway.app/events" \
  -H "Authorization: Bearer $TOKEN" | jq '.'

# 3. –û—Ç—Ä–∏–º–∞—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É –ø–æ–¥—ñ—é
curl -X GET "https://un1t-back-end-development.up.railway.app/events/6944293129baa264a95f9170" \
  -H "Authorization: Bearer $TOKEN" | jq '.'
```

## üìù –§–∞–π–ª–∏ –∑–º—ñ–Ω–µ–Ω—ñ

1. `DATA_TYPES/event.ts` - –æ–Ω–æ–≤–ª–µ–Ω–∏–π —Ç–∏–ø Event
2. `src/features/events/api/events.api.ts` - –ø–æ–∫—Ä–∞—â–µ–Ω–æ normalizeEvent
3. `components/classes-screen/use-classes-screen-data.ts` - –¥–æ–¥–∞–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏
4. `test-api.sh` - –Ω–æ–≤–∏–π —Ñ–∞–π–ª –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
5. `API_REAL_STRUCTURE.md` - –Ω–æ–≤–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

- ‚úÖ –ü–æ–¥—ñ—ó –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –∑ API
- ‚úÖ –ü–æ–¥—ñ—ó –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä—ñ
- ‚úÖ –ù–µ–º–∞—î crash'—ñ–≤ —á–µ—Ä–µ–∑ undefined
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —Ä–µ–∞–ª—å–Ω–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ API
- ‚úÖ –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

## üöÄ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

1. **–í–∏–¥–∞–ª–∏—Ç–∏ debug –∫–æ–º–ø–æ–Ω–µ–Ω—Ç** `<AuthDebug />` –∑ `classes.tsx` (–ø—ñ—Å–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è)
2. **–í–∏–¥–∞–ª–∏—Ç–∏ –∑–∞–π–≤–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è** –∑ production –∫–æ–¥—É
3. **–ü–æ–ø—Ä–æ—Å–∏—Ç–∏ –±–µ–∫–µ–Ω–¥** –¥–æ–¥–∞—Ç–∏ populate –¥–ª—è coach —Ç–∞ studio
4. **–î–æ–¥–∞—Ç–∏ –ø–æ–ª—è** tags, creditCost, duration –Ω–∞ –±–µ–∫–µ–Ω–¥—ñ
5. **–û–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏** –∑–∞–ø–∏—Ç–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–µ—à—É–≤–∞–Ω–Ω—è —Å—Ç—É–¥—ñ–π/—Ç—Ä–µ–Ω–µ—Ä—ñ–≤)
